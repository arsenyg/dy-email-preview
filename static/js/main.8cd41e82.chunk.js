(this["webpackJsonpemail-preview"]=this["webpackJsonpemail-preview"]||[]).push([[0],{82:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(9),r=a.n(i),l=a(29),s=a(119),o=a(122),j=a(120),d=a(83),b=a(125),u=a(123),x=(a(67),a(113)),h=a(117),m=a(118),p=a(6);var v=function(e){var t=e.title;return Object(p.jsx)(x.a,{position:"sticky",color:"primary",children:Object(p.jsx)(h.a,{children:Object(p.jsx)(m.a,{variant:"h6",children:t})})})},O=Object(s.a)((function(e){return{container:{display:"flex",alignItems:"stretch",padding:e.spacing(3),flexGrow:1},noClicks:{pointerEvents:"none"},fullSize:{display:"flex",alignItems:"stretch",maxWidth:"calc(50vw - 96px)",maxHeight:"calc(100vh - 156px)",overflow:"scroll"}}}),{classNamePrefix:"dy"});var f=function(e){var t=e.html,a=O();return Object(p.jsx)(j.a,{container:!0,alignContent:"stretch",children:Object(p.jsx)(d.a,{variant:"elevation",className:a.container,children:Object(p.jsx)(j.a,{item:!0,xs:12,className:a.fullSize,children:Object(p.jsx)("div",{dangerouslySetInnerHTML:{__html:t},className:a.noClicks})})})})},g=a(54),y=a.n(g),w=(a(78),a(79),a(80),a(37)),C=a(41),k=a(124),P=a(121),S=function(e){var t=e.variables,a=e.onPreviewClicked,c=e.canPreview,i=Object(n.useMemo)((function(){return t.reduce((function(e,t){var a=t.key,n=t.value;return Object(C.a)(Object(C.a)({},e),{},Object(w.a)({},a,n))}),{})}),[t]);return Object(p.jsxs)(j.a,{container:!0,alignContent:"flex-start",style:{height:"85vh",overflow:"scroll"},children:[t.map((function(e){var t=e.key,a=e.description;return Object(p.jsx)(j.a,{item:!0,xs:8,style:{margin:"24px 0 0 24px"},children:Object(p.jsx)(k.a,{id:"standard-full-width",label:a,style:{margin:8},onChange:function(e){return function(e,t){i[t]=e.target.value}(e,t)},placeholder:i&&i[t],fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}})},t)})),Object(p.jsx)(j.a,{item:!0,xs:12,style:{margin:"24px 0 0 24px"},children:Object(p.jsx)(P.a,{disabled:!c,variant:"contained",color:"primary",onClick:function(){return a(i)},children:"Preview"})})]})},_=Object(s.a)((function(e){return{container:{display:"flex",alignItems:"stretch",padding:e.spacing(3),flexGrow:1}}}),{classNamePrefix:"dy"}),E={dy_cuid:"User Identifier (dy_cuid)",dy_locale:"Locale (dy_locale)",dy_version:"Version (dy_version)",cartCtx:"Cart Context (cartCtx)"},I=new RegExp("(?:\\?|&)(".concat(Object.keys(E).join("|"),')=([^"|^&]+)'),"g");var N=function(){var e=_(),t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)(""),s=Object(l.a)(r,2),x=s[0],h=s[1],m=Object(n.useState)(0),O=Object(l.a)(m,2),g=O[0],w=O[1],C=Object(n.useState)([]),k=Object(l.a)(C,2),P=k[0],N=k[1];return Object(n.useEffect)((function(){var e=c.match(I);N(e?Object.values(e.reduce((function(e,t){var a=t.slice(1).split("="),n=Object(l.a)(a,2),c=n[0],i=n[1];return e[c]={key:c,value:i,description:E[c]},e}),{})):[])}),[c]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(o.a,{}),Object(p.jsx)(v,{title:"Email Preview"}),Object(p.jsxs)(j.a,{container:!0,style:{height:"calc(100vh - 60px)"},children:[Object(p.jsx)(j.a,{item:!0,xs:6,className:e.container,children:Object(p.jsxs)(d.a,{variation:"outlined",style:{flexGrow:1},children:[Object(p.jsx)(d.a,{square:!0,children:Object(p.jsxs)(b.a,{value:g,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){w(t)},"aria-label":"disabled tabs example",children:[Object(p.jsx)(u.a,{label:"HTML"}),Object(p.jsx)(u.a,{label:"Variables"})]})}),0===g&&Object(p.jsx)(y.a,{style:{marginTop:1,height:"calc(100% - 49px)",width:"100%"},mode:"html",theme:"xcode",onChange:function(e){i(e)},value:c,name:"email-editor",editorProps:{$blockScrolling:!0},setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showPrintMargin:!1,wrap:!0}}),1===g&&Object(p.jsx)(S,{variables:P,canPreview:c.trim().length>0,onPreviewClicked:function(e){var t=c;P.forEach((function(a){var n=a.key,c=a.value;t=t.replace(new RegExp("".concat(n,"=").concat(c),"g"),"".concat(n,"=").concat(e[n]))})),h(t)}})]})}),Object(p.jsx)(j.a,{item:!0,xs:6,className:e.container,children:Object(p.jsx)(f,{html:x})})]})]})};r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(N,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.8cd41e82.chunk.js.map